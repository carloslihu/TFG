  \newdefinition{orm}{ORM}{ORMs}{Object-Relational mapping es una técnica de programación para convertir datos entre el sistema de tipos utilizado en un lenguaje de programación orientado a objetos y la utilización de una base de datos relacional}
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\section{Diseño\label{SEC:DISENO}}
  Tras la evaluación de las diferentes herramientas en el estado del arte, aquí se asignan las que se usarán finalmente, junto al criterio que hemos seguido a la hora de decidirlo.
  
  \subsection{Base de Datos}
    La BD que se usará será PostgreSQL. Esto es debido a que para esta aplicación, se ha observado que no existe mucha complejidad a la hora de almacenar los datos.
    
    Para crear los formatos de los datos de la BD se ha tenido de referencia datos reales proporcionados, y se ha simulado un modelo básico que contiene todos los campos comunes y necesarios.
    %modelo ER
    Los formatos de los datos de antenas se han obtenido de OpenCellid \cite{opencellid}
    %detallar campos
    Para definir los campos de las llamadas, se ha accedido a datos de compañías telefónicas privadas, y se han comparado para encontrar los campos comunes y necesarios.
    %detallar campos
    

    
    
  \subsection{Framework}
    La envergadura del proyecto no es muy grande y con respecto a las herramientas necesarias, ambos proporcionan las mismas funcionalidades. Por tanto, el framework que se utilizará será Flask, pues su arquitectura es más sencilla que la de Django, por lo que en este caso primaremos la simpleza, para que el proyecto no sea innecesariamente complicado de implementar.

  \subsection{API de mapas}
    Finalmente se ha decidido usar la \dfn{api} de Google Maps\cite{gmaps} a pesar de que su uso conlleve un gasto mensual. Esto es porque, tras probar las diferentes alternativas, se ha comprobado que esta \dfn{api} proporciona muchas más funcionalidades interesantes que las demás no tienen. Como por ejemplo, un módulo de Roads para detectar carreteras cercanas.
    Además su documentación y mantenimiento está bien actualizado, y por tanto, esto la hace idónea para aumentar su escalabilidad.
    
  \subsection{Datos}
    Debido a la sensibilidad y privacidad de los datos que se manejan, ha sido imposible conseguir datos reales para probar la aplicación, por lo que se ha decidido simularlos de forma que sean consistentes. %%como??
  %Diagrama casos uso
  %Diagramas para explicar codigo
    Debido a que los datos tienen formatos completamente distintos dependiendo de la compañía que las provea, para insertar los datos en la BD, se ha programado un módulo en Python.
    Los datos proporcionados vienen principalmente en 3 tipos de ficheros distintos.
    
    \begin{itemize}
      %Detallar formatos datos y como se definen
      \item Un fichero JSON donde se definen los formatos de los otros 2 ficheros.
      \item Un fichero excel que contiene los datos de las antenas.
      \item Un fichero excel que contiene los datos de las llamadas realizadas.
    \end{itemize}
    En la implementación, se realizará un análisis más detallado del algoritmo de inserción de datos.